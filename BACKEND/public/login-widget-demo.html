<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAKAMA Login Widget Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .demo-header {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .demo-logo {
            color: white;
            font-size: 20px;
            font-weight: bold;
        }
        
        .demo-nav {
            display: flex;
            gap: 20px;
        }
        
        .demo-nav a {
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 6px;
            transition: all 0.2s ease;
        }
        
        .demo-nav a:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 100px 20px 40px;
        }
        
        .demo-section {
            background: white;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .code-block {
            background: #1a1a1a;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 20px 0;
        }
        
        .integration-example {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .integration-example h3 {
            margin-top: 0;
            color: #333;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
        }
        
        .feature-card h3 {
            margin-top: 0;
            color: #333;
        }
        
        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-connected {
            background: #10b981;
        }
        
        .status-disconnected {
            background: #ef4444;
        }
        
        .wallet-info {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }
        
        .wallet-info h4 {
            margin-top: 0;
            color: #333;
        }
        
        .wallet-address {
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            color: #666;
            word-break: break-all;
        }
    </style>
</head>
<body>
    <!-- Demo Header with NAKAMA Login Widget -->
    <header class="demo-header">
        <div class="demo-logo">Demo Site</div>
        <nav class="demo-nav">
            <a href="#home">Home</a>
            <a href="#about">About</a>
            <a href="#contact">Contact</a>
        </nav>
        <!-- NAKAMA Login Widget will be injected here -->
    </header>

    <div class="container">
        <h1>üöÄ NAKAMA Login Widget Integration Demo</h1>
        
        <div class="demo-section">
            <h2>üìñ How to Integrate NAKAMA Login Widget</h2>
            <p>Add this script to your website's header to enable universal wallet authentication:</p>
            
            <div class="code-block">
&lt;script src="https://nakama-production-1850.up.railway.app/nakama-login-widget.js"&gt;&lt;/script&gt;
&lt;script&gt;
  // Configure the widget
  NAKAMA.loginWidget.options = {
    position: 'header-right',  // 'header-right', 'header-left', 'standalone'
    theme: 'dark',            // 'dark', 'light'
    showLogo: true,           // Show NAKAMA logo
    showChainIndicator: true   // Show active chain indicator
  };
&lt;/script&gt;
            </div>
        </div>

        <div class="demo-section">
            <h2>üéØ Widget Features</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üîê Universal Authentication</h3>
                    <p>Connect Solana and EVM wallets (Ethereum, Polygon, Arbitrum, Optimism, Base, BNB Chain) with a single click.</p>
                </div>
                
                <div class="feature-card">
                    <h3>üë§ Profile Recognition</h3>
                    <p>Automatically recognizes existing NAKAMA users and displays their profile information.</p>
                </div>
                
                <div class="feature-card">
                    <h3>‚ûï Profile Creation</h3>
                    <p>New users can create NAKAMA profiles directly from your site with a beautiful modal interface.</p>
                </div>
                
                <div class="feature-card">
                    <h3>üé® Seamless Integration</h3>
                    <p>Designed to match your site's header styling and integrate with existing navigation.</p>
                </div>
                
                <div class="feature-card">
                    <h3>üîó Multi-Chain Support</h3>
                    <p>Switch between connected chains and see active wallet addresses for each network.</p>
                </div>
                
                <div class="feature-card">
                    <h3>üì± Responsive Design</h3>
                    <p>Works perfectly on desktop, tablet, and mobile devices with adaptive layouts.</p>
                </div>
                
                <div class="feature-card">
                    <h3>üîç Auto-Populate Inputs</h3>
                    <p>Automatically detects and populates wallet address inputs with user's registered addresses.</p>
                </div>
                
                <div class="feature-card">
                    <h3>‚ö° Dynamic Content</h3>
                    <p>Watches for new wallet inputs and auto-populates them as they appear on the page.</p>
                </div>
                
                <div class="feature-card">
                    <h3>üöÄ Auto-Submit</h3>
                    <p>Automatically triggers form submissions and button clicks after populating wallet inputs.</p>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2>üîß API Methods</h2>
            <p>The NAKAMA login widget provides these methods for integration:</p>
            
            <div class="code-block">
// Connect wallet
await NAKAMA.connect();

// Disconnect all wallets
NAKAMA.disconnect();

// Get current user
const user = NAKAMA.getUser();
console.log(user); // { username, displayName, bio, profilePicture, ... }

// Get connected wallets
const wallets = NAKAMA.getWallets();
console.log(wallets); // { solana: {...}, ethereum: {...}, ... }

// Get active chain
const activeChain = NAKAMA.getActiveChain();
console.log(activeChain); // 'solana', 'ethereum', etc.

// Get wallet address by chain
const solanaAddress = NAKAMA.getWalletByChain('solana');
const ethAddress = NAKAMA.getWalletByChain('ethereum');

// Auto-populate wallet address inputs
NAKAMA.populateInputs();

// Watch for new wallet inputs (dynamic content)
const watcher = NAKAMA.watchInputs({
  interval: 1000,
  maxAttempts: 60
});
            </div>
        </div>

        <div class="demo-section">
            <h2>üé® Adaptive Styling</h2>
            <p>The widget automatically adapts to your site's colors, fonts, and styling:</p>
            
            <div class="code-block">
// Configure the widget
NAKAMA.loginWidget.options = {
  position: 'header-right',     // 'header-right', 'header-left', 'standalone'
  adaptiveStyling: true,        // Adapt to host site's colors (default: true)
  showLogo: true,               // Show NAKAMA logo
  showChainIndicator: true      // Show active chain indicator
};
            </div>
            
            <h3>What Gets Adapted:</h3>
            <ul>
                <li><strong>Colors:</strong> Background, text, borders, and accent colors</li>
                <li><strong>Typography:</strong> Font family, size, and weight</li>
                <li><strong>Spacing:</strong> Padding and border radius</li>
                <li><strong>Effects:</strong> Backdrop blur and shadows</li>
            </ul>
            
            <h3>Manual Override:</h3>
            <p>You can override specific styles using CSS custom properties:</p>
            <div class="code-block">
:root {
  --nakama-primary: #your-brand-color;
  --nakama-text: #your-text-color;
  --nakama-profile-bg: rgba(your-bg-color, 0.8);
  --nakama-accent: #your-accent-color;
}
            </div>
        </div>

        <div class="demo-section">
            <h2>üéØ Integration Examples</h2>
            
            <div class="integration-example">
                <h3>E-commerce Site</h3>
                <p>Use NAKAMA profiles for user accounts, display wallet addresses for payments, and show verification status.</p>
                <div class="code-block">
// Check if user is connected
if (NAKAMA.getUser()) {
  const user = NAKAMA.getUser();
  const wallets = NAKAMA.getWallets();
  
  // Use Solana wallet for payments
  if (wallets.solana) {
    console.log('Solana address:', wallets.solana.address);
  }
  
  // Use Ethereum wallet for NFT purchases
  if (wallets.ethereum) {
    console.log('Ethereum address:', wallets.ethereum.address);
  }
}
                </div>
            </div>
            
            <div class="integration-example">
                <h3>DeFi Platform</h3>
                <p>Automatically populate wallet addresses in transaction forms and show user verification status.</p>
                <div class="code-block">
// Auto-fill wallet addresses in forms
const form = document.getElementById('transaction-form');
const solanaInput = form.querySelector('[name="solana-address"]');
const ethereumInput = form.querySelector('[name="ethereum-address"]');

const wallets = NAKAMA.getWallets();
if (wallets.solana) {
  solanaInput.value = wallets.solana.address;
}
if (wallets.ethereum) {
  ethereumInput.value = wallets.ethereum.address;
}
                </div>
            </div>
            
            <div class="integration-example">
                <h3>NFT Marketplace</h3>
                <p>Show creator profiles, verify wallet ownership, and display user information in listings.</p>
                <div class="code-block">
// Display user profile in NFT listing
const user = NAKAMA.getUser();
if (user) {
  document.getElementById('creator-name').textContent = user.displayName;
  document.getElementById('creator-bio').textContent = user.bio;
  document.getElementById('creator-verified').style.display = user.isVerified ? 'block' : 'none';
}
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2>üìä Current Status</h2>
            <div id="status-info">
                <p><span class="status-indicator status-disconnected"></span>Not connected</p>
                <p>Click the "Connect Wallet" button in the header to get started!</p>
            </div>
            
            <div id="user-info" style="display: none;">
                <div class="wallet-info">
                    <h4>User Profile</h4>
                    <div id="user-profile"></div>
                </div>
                
                <div class="wallet-info">
                    <h4>Connected Wallets</h4>
                    <div id="wallet-list"></div>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2>üöÄ Use Cases</h2>
            <ul>
                <li><strong>Data Sites:</strong> Auto-populate wallet address inputs for portfolio analysis</li>
                <li><strong>E-commerce:</strong> Use wallet addresses for payments and user accounts</li>
                <li><strong>DeFi Platforms:</strong> Auto-populate wallet addresses in transaction forms</li>
                <li><strong>NFT Marketplaces:</strong> Display creator profiles and verification status</li>
                <li><strong>Gaming Platforms:</strong> Show player profiles and wallet addresses</li>
                <li><strong>Social Media:</strong> Integrate NAKAMA profiles into posts and comments</li>
                <li><strong>Portfolio Trackers:</strong> Display user information alongside wallet data</li>
                <li><strong>DAO Platforms:</strong> Verify wallet ownership for governance participation</li>
                <li><strong>Content Platforms:</strong> Show creator verification and wallet addresses</li>
            </ul>
            
            <div style="margin-top: 20px; padding: 20px; background: #f0f9ff; border: 1px solid #0ea5e9; border-radius: 8px;">
                <h3>üîç Wallet Input Population Demo</h3>
                <p>See the wallet input auto-population feature in action:</p>
                <a href="wallet-inputs-demo.html" style="color: #0ea5e9; text-decoration: none; font-weight: 500;">
                    ‚Üí View Wallet Inputs Demo
                </a>
            </div>
        </div>
    </div>

    <!-- Load NAKAMA Login Widget -->
    <script src="https://nakama-production-1850.up.railway.app/nakama-login-widget.js"></script>
    
    <script>
        // Update status display
        function updateStatus() {
            const user = NAKAMA.getUser();
            const wallets = NAKAMA.getWallets();
            const statusInfo = document.getElementById('status-info');
            const userInfo = document.getElementById('user-info');
            
            if (user) {
                statusInfo.innerHTML = `
                    <p><span class="status-indicator status-connected"></span>Connected as @${user.displayName || user.username}</p>
                `;
                
                userInfo.style.display = 'block';
                document.getElementById('user-profile').innerHTML = `
                    <p><strong>Username:</strong> @${user.displayName || user.username}</p>
                    <p><strong>Bio:</strong> ${user.bio || 'No bio available'}</p>
                    <p><strong>Verified:</strong> ${user.isVerified ? 'Yes' : 'No'}</p>
                `;
                
                const walletList = document.getElementById('wallet-list');
                const connectedWallets = Object.entries(wallets)
                    .filter(([chain, wallet]) => wallet !== null)
                    .map(([chain, wallet]) => `
                        <div style="margin-bottom: 8px;">
                            <strong>${chain.charAt(0).toUpperCase() + chain.slice(1)}:</strong>
                            <div class="wallet-address">${wallet.address}</div>
                        </div>
                    `).join('');
                
                walletList.innerHTML = connectedWallets || '<p>No wallets connected</p>';
            } else {
                statusInfo.innerHTML = `
                    <p><span class="status-indicator status-disconnected"></span>Not connected</p>
                    <p>Click the "Connect Wallet" button in the header to get started!</p>
                `;
                userInfo.style.display = 'none';
            }
        }
        
        // Update status every second
        setInterval(updateStatus, 1000);
        
        // Initial update
        updateStatus();
    </script>
</body>
</html>
